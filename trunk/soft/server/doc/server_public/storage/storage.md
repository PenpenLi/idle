# 储存服

---

## 地址

---

ip + 10004

---

## 方法

---

统一使用post方法

### 客户端发送消息

| 地址 | 消息体   | 解释              |
| ---- | :------- | :---------------- |
| /set | token    | 用户名（rpg+xxx） |
|      | serverid | 服务器id          |
|      | level    | 等级              |
| /get | token    | 用户名（rpg+xxx） |

### 返回值

| 地址 | 返回值   | 解释                                                 |
| ---- | :------- | :--------------------------------------------------- |
| /set | 0        | 插入成功                                             |
|      | -1       | 插入错误（只判断了长度错误）                         |
| /get | -1       | 用户名长度错误（6-64）                               |
|      | json数组 | 数组每一行解析为（{"serverid": xxx, "level": xxx]}） |

---

## 备注

---

每次登陆的时候调用get方法

如果玩家选择的区是get方法返回值中没有的 执行一次set方法

set方法包含更新数据库中的玩家等级

每隔一定时间发送一个set方法做固定更新（写在升级里面调用 个人建议）



所有长度返回值-1都是长度错误 

用户名长度（6-64）

其他长度（1-10）

